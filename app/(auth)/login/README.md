# ログイン画面設計書

画面名: `ログイン`  
パス: `/login`  
URL: https://carebase-staff.vercel.app/login

## 概要

CareBase-staffアプリケーションのログイン画面設計書です。  
施設IDとパスワードによる認証機能を提供し、認証成功時は職員選択画面へ遷移します。

## 全体レイアウト

### 画面構成

<img width="607" height="534" alt="image" src="https://github.com/user-attachments/assets/b7195a6b-7c05-4f49-93e7-9cccdd783eb1" />

### 画面項目

| 項目名           | コンポーネント | 必須 | 最小桁数 | 最大桁数 | フォーマット | 初期値                                 | 備考                     |
| ---------------- | -------------- | ---- | -------- | -------- | ------------ | -------------------------------------- | ------------------------ |
| ロゴ             | Logo           | -    | -        | -        | -            | -                                      | CareBaseロゴを表示       |
| ページタイトル   | CardTitle      | -    | -        | -        | -            | ログイン                               | カード内ヘッダー         |
| 施設ID           | InputField     | ◯    | 1        | 50       | 英数字       | -                                      | テキスト入力フィールド   |
| パスワード       | InputField     | ◯    | 1        | 100      | -            | -                                      | パスワード入力フィールド |
| エラーメッセージ | ErrorAlert     | -    | -        | -        | -            | -                                      | 認証エラー時に表示       |
| 成功メッセージ   | ErrorAlert     | -    | -        | -        | -            | -                                      | 認証成功時に表示         |
| ログインボタン   | LoginButton    | -    | -        | -        | -            | ログイン                               | 認証実行ボタン           |
| フッター         | テキスト       | -    | -        | -        | -            | © 2025 CareBase. All rights reserved. | 著作権表示               |

## 機能仕様

### アクション

| 項目名         | 処理内容                       | 対象API                    | 遷移先画面                        |
| -------------- | ------------------------------ | -------------------------- | --------------------------------- |
| ログインボタン | 施設IDとパスワードで認証を実行 | `/api/v1/auth/staff/login` | 職員選択画面 (`/staff-selection`) |
| フォーム送信   | Enterキー押下時の認証実行      | 同上                       | 同上                              |

### 入力チェック

| 項目名       | イベント   | チェック内容     | エラーメッセージ                          |
| ------------ | ---------- | ---------------- | ----------------------------------------- |
| 施設ID       | input/blur | 必須項目チェック | 施設IDを入力してください                  |
| 施設ID       | input/blur | 最大桁数チェック | 施設IDは50文字以下で入力してください      |
| パスワード   | input/blur | 必須項目チェック | パスワードを入力してください              |
| パスワード   | input/blur | 最大桁数チェック | パスワードは100文字以下で入力してください |
| フォーム全体 | submit     | 認証失敗チェック | 施設IDまたはパスワードが正しくありません  |

### バリデーション仕様

#### リアルタイムバリデーション

- 入力中にフィールドレベルでのバリデーションを実行
- エラー状態の場合、フィールドを赤色でハイライト
- エラーメッセージをフィールド下部に表示

#### フォームバリデーション

- 全フィールドが有効な場合のみログインボタンを有効化
- 無効な状態では `disabled` 属性を設定

## 参考資料

- [FlutterFlow参考画面](https://carebase.flutterflow.app/authLogin)
- [CareBase-api認証エンドポイント](https://github.com/ambi-tious/CareBase-api/issues/3)
- [画面一覧](../../../docs/screen-list.md#認証関連)
